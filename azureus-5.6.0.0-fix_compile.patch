diff -up azureus-5.5.0.0/org/gudy/azureus2/core3/util/AddressUtils.java.5.4.0.0_fix_compile azureus-5.5.0.0/org/gudy/azureus2/core3/util/AddressUtils.java
--- azureus-5.5.0.0/org/gudy/azureus2/core3/util/AddressUtils.java.5.4.0.0_fix_compile	2014-11-19 18:30:46.000000000 +0100
+++ azureus-5.5.0.0/org/gudy/azureus2/core3/util/AddressUtils.java	2014-11-24 15:03:06.223293397 +0100
@@ -494,11 +494,11 @@ AddressUtils
 			try{
 					// unfortunately we have an incompatible base64 standard in i2p, they replaced / with ~ and + with -
 				
-				char[]	encoded = to_decode.toCharArray();
+				byte[]	encoded = to_decode.getBytes();
 				
 				for ( int i=0;i<encoded.length;i++){
 					
-					char c = encoded[i];
+					byte c = encoded[i];
 					
 					if ( c == '~' ){
 						encoded[i] = '/';
--- azureus-5.6.orig/org/gudy/azureus2/pluginsimpl/local/utils/xml/simpleparser/SimpleXMLParserDocumentImpl.java	2015-05-05 02:29:02.569602779 +0100
+++ azureus-5.6/org/gudy/azureus2/pluginsimpl/local/utils/xml/simpleparser/SimpleXMLParserDocumentImpl.java	2015-05-05 02:29:33.439030178 +0100
@@ -25,7 +25,6 @@ package org.gudy.azureus2.pluginsimpl.lo
 import javax.xml.parsers.*;
 
 import org.xml.sax.*;
-import org.apache.commons.lang.Entities;
 import org.gudy.azureus2.core3.util.AENetworkClassifier;
 import org.gudy.azureus2.core3.util.Constants;
 import org.gudy.azureus2.core3.util.Debug;
@@ -646,28 +645,7 @@ SimpleXMLParserDocumentImpl
 		     				
 		     				String	replacement;
 		     				
-		     				if ( 	ref.equals( "amp") 		|| 
-		     						ref.equals( "lt" ) 		|| 
-		     						ref.equals( "gt" ) 		|| 
-		     						ref.equals( "quot" )	|| 
-		     						ref.equals( "apos" ) 	||
-		     						ref.startsWith( "#" )){
-		     					
-		     					replacement = new String( buffer, 0, buffer_pos );
-		     					
-		     				}else{
-		     							     							     					
-			     				int num = Entities.HTML40.entityValue( ref );
-			     					
-		     					if ( num != -1 ){
-		     					
-		     						replacement = "&#" + num + ";";
-		     						
-		     					}else{
-		     						
-		     						replacement = new String( buffer, 0, buffer_pos );
-		     					}
-		     				}
+                            replacement = new String( buffer, 0, buffer_pos );
 		     				
 		     				char[] chars = replacement.toCharArray();
 		     				
